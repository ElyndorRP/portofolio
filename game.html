<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Playground ‚Äî ùì°7ùì©</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg:#0d0d0d; --glass:rgba(255,255,255,0.03); --neon-start:#7c5cff; --neon-mid:#31d2f2; --neon-end:#ff66b3;
    }
    html,body{height:100%; margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; background:var(--bg); color:#e6eef8;}
    header{backdrop-filter: blur(6px); background:var(--glass); border:1px solid rgba(255,255,255,0.04);}
    .neon{ background: linear-gradient(90deg,var(--neon-start),var(--neon-mid),var(--neon-end)); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 6px 24px rgba(124,92,255,0.06); }
    .glass{ background:var(--glass); backdrop-filter: blur(6px); border-radius:12px; border:1px solid rgba(255,255,255,0.04); }
    .menu-btn{ cursor:pointer; font-size:1.4rem; padding:6px 10px; }
    /* menu overlay */
    #mobileMenu{ position:fixed; right:18px; top:64px; z-index:60; display:none; min-width:180px; padding:12px; }
    #mobileMenu a{ display:block; padding:8px 10px; border-radius:8px; color:inherit; }
    #mobileMenu a:hover{ background: rgba(255,255,255,0.02); }
    /* main */
    main{ padding:5.5rem 1rem 3rem; max-width:1100px; margin:0 auto; }
    canvas{ background:#0b0b0b; display:block; margin:0 auto; border-radius:8px; }
    /* memory cards */
    .card{ height:64px; border-radius:8px; cursor:pointer; user-select:none; display:flex; align-items:center; justify-content:center; font-weight:700; }
    @media (max-width:640px){ #mobileMenu{ right:12px; top:58px; } .grid-cards{ grid-template-columns: repeat(4, minmax(0,1fr)); gap:8px; } }
  </style>
</head>
<body>
  <!-- Header: only title + hamburger -->
  <header class="fixed top-0 left-0 w-full z-50 glass flex items-center justify-between px-6 py-3">
    <div class="text-2xl neon font-bold">ùì°7ùì©</div>
    <div>
      <button id="hambtn" class="menu-btn" aria-label="Menu" title="Menu">‚ò∞</button>
    </div>
    <!-- menu (hidden by default) -->
    <div id="mobileMenu" class="glass p-3" role="menu" aria-hidden="true">
      <a href="accueil.html" role="menuitem" class="block" onclick="closeMenu()">Accueil</a>
      <a href="projet.html" role="menuitem" class="block" onclick="closeMenu()">Projets</a>
      <a href="game.html" role="menuitem" class="block" onclick="closeMenu()">Playground</a>
      <a href="contact.html" role="menuitem" class="block" onclick="closeMenu()">Contact</a>
    </div>
  </header>

  <main>
    <h1 class="text-4xl neon font-bold text-center mb-6">Playground</h1>

    <!-- Snake -->
    <section class="glass p-4 mb-8 max-w-lg mx-auto text-center">
      <h2 class="text-xl font-semibold mb-3">Snake</h2>
      <canvas id="snake" width="300" height="300"></canvas>
      <div class="mt-3 flex justify-center gap-3">
        <button id="snakeStart" class="glass px-4 py-2 rounded">D√©marrer</button>
        <button id="snakeReset" class="glass px-4 py-2 rounded">R√©initialiser</button>
      </div>
      <p class="text-sm text-slate-400 mt-2">Touches: fl√®ches du clavier. Collision r√©initialise le jeu.</p>
    </section>

    <!-- Memory -->
    <section class="glass p-4 max-w-lg mx-auto text-center">
      <h2 class="text-xl font-semibold mb-3">Memory ‚Äî Projets</h2>
      <div id="memory" class="grid grid-cols-4 gap-3 max-w-sm mx-auto mb-3"></div>
      <div class="flex justify-center gap-3">
        <button id="memReset" class="glass px-4 py-2 rounded">Rejouer</button>
      </div>
      <p class="text-sm text-slate-400 mt-2">Trouve toutes les paires.</p>
    </section>
  </main>

  <script>
    /* ---------- menu ---------- */
    const hambtn = document.getElementById('hambtn');
    const mobileMenu = document.getElementById('mobileMenu');
    function toggleMenu(){ const showing = mobileMenu.style.display === 'block'; mobileMenu.style.display = showing ? 'none' : 'block'; mobileMenu.setAttribute('aria-hidden', showing); }
    function closeMenu(){ mobileMenu.style.display = 'none'; mobileMenu.setAttribute('aria-hidden','true'); }
    hambtn.addEventListener('click', toggleMenu);
    // close menu on outside click
    document.addEventListener('click', (e)=>{ if(!mobileMenu.contains(e.target) && e.target !== hambtn) closeMenu(); });

    /* ---------- Snake ---------- */
    const canvas = document.getElementById('snake');
    const ctx = canvas.getContext('2d');
    const GRID = 20; // cells per row/col
    const CELL = canvas.width / GRID;
    let snake = [{x:9,y:10}];
    let dir = null; // {x:1,y:0}
    let food = randomCell();
    let snakeInterval = null;
    const speed = 120;

    function randomCell(){
      return { x: Math.floor(Math.random()*GRID), y: Math.floor(Math.random()*GRID) };
    }

    function drawSnake(){
      // background
      ctx.fillStyle = "#0b0b0b";
      ctx.fillRect(0,0,canvas.width,canvas.height);
      // food
      ctx.fillStyle = "#ff66b3";
      ctx.fillRect(food.x*CELL, food.y*CELL, CELL-1, CELL-1);
      // snake
      for(let i=0;i<snake.length;i++){
        ctx.fillStyle = i===0 ? "#31d2f2" : "#7c5cff";
        ctx.fillRect(snake[i].x*CELL, snake[i].y*CELL, CELL-1, CELL-1);
      }
    }

    function stepSnake(){
      if(!dir) return;
      const head = { x: (snake[0].x + dir.x), y: (snake[0].y + dir.y) };
      // check collision with walls or self
      if(head.x < 0 || head.y < 0 || head.x >= GRID || head.y >= GRID || snake.some(s => s.x===head.x && s.y===head.y)){
        // reset
        snake = [{x:9,y:10}];
        dir = null;
        food = randomCell();
        drawSnake();
        return;
      }
      snake.unshift(head);
      if(head.x === food.x && head.y === food.y){
        food = randomCell();
      } else {
        snake.pop();
      }
      drawSnake();
    }

    document.addEventListener('keydown', (e)=>{
      const key = e.key;
      if(key === 'ArrowUp' && (!dir || dir.y !== 1)) dir = {x:0,y:-1};
      else if(key === 'ArrowDown' && (!dir || dir.y !== -1)) dir = {x:0,y:1};
      else if(key === 'ArrowLeft' && (!dir || dir.x !== 1)) dir = {x:-1,y:0};
      else if(key === 'ArrowRight' && (!dir || dir.x !== -1)) dir = {x:1,y:0};
    });

    function startSnake(){
      if(snakeInterval) clearInterval(snakeInterval);
      snakeInterval = setInterval(stepSnake, speed);
    }
    function resetSnake(){
      if(snakeInterval) clearInterval(snakeInterval);
      snake = [{x:9,y:10}];
      dir = null;
      food = randomCell();
      drawSnake();
    }
    document.getElementById('snakeStart').addEventListener('click', startSnake);
    document.getElementById('snakeReset').addEventListener('click', resetSnake);
    // initial draw
    drawSnake();

    /* ---------- Memory ---------- */
    const memoryRoot = document.getElementById('memory');
    const baseCards = ["R","7","Z","JS","Web","Bot","VekoJS","Core"];
    let memState = { first:null, lock:false, matched:0 };

    function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j = Math.floor(Math.random()*(i+1)); [arr[i],arr[j]] = [arr[j],arr[i]]; } return arr; }

    function initMemory(){
      memoryRoot.innerHTML = '';
      memState = { first:null, lock:false, matched:0 };
      const doubled = shuffle([...baseCards, ...baseCards]);
      doubled.forEach(val=>{
        const d = document.createElement('div');
        d.className = 'card glass flex items-center justify-center text-lg bg-black/10';
        d.dataset.value = val;
        d.innerText = '?';
        d.addEventListener('click', onFlip);
        memoryRoot.appendChild(d);
      });
    }

    function onFlip(e){
      const el = e.currentTarget;
      if(memState.lock) return;
      if(el.innerText !== '?') return;
      el.innerText = el.dataset.value;
      if(!memState.first){
        memState.first = el;
        return;
      }
      // second pick
      if(memState.first === el) return;
      if(memState.first.dataset.value === el.dataset.value){
        // match
        memState.first.style.pointerEvents = 'none';
        el.style.pointerEvents = 'none';
        memState.first = null;
        memState.matched += 2;
        if(memState.matched === baseCards.length * 2){
          setTimeout(()=> alert('Bravo ! Tu as trouv√© toutes les paires.'),200);
        }
      } else {
        memState.lock = true;
        setTimeout(()=>{
          memState.first.innerText = '?';
          el.innerText = '?';
          memState.first = null;
          memState.lock = false;
        },700);
      }
    }

    document.getElementById('memReset').addEventListener('click', initMemory);
    initMemory();
  </script>
</body>
</html>